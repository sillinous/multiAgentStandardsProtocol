{
  "apqc_id": "12.2.1.1",
  "apqc_name": "Manage vendor relationships",
  "category": "12.0 - Manage External Relationships",
  "description": "End-to-end vendor relationship management from onboarding through performance evaluation, including contract management, risk assessment, and relationship optimization.",
  "orchestration_pattern": "parallel",
  "total_steps": 6,
  "estimated_duration_seconds": 604800,
  "compliance_frameworks": ["SOX", "GDPR", "ISO 27001", "Third-Party Risk Management"],
  "data_retention_days": 2555,

  "agent_cards": [
    {
      "id": "agent_12_2_1_1_step1",
      "apqc_id": "12.2.1.1",
      "step_number": 1,
      "step_name": "Vendor Onboarding",
      "description": "Onboard new vendors with due diligence and compliance checks",
      "purpose": "Establish vendor relationship",
      "business_value": "Compliant vendor partnerships",

      "capabilities": ["vendor_registration", "due_diligence", "compliance_verification", "document_collection", "approval_workflow"],

      "input_schema": [
        {"name": "vendor_name", "type": "string", "required": true},
        {"name": "vendor_type", "type": "string", "required": true},
        {"name": "services_provided", "type": "array", "required": true},
        {"name": "contact_info", "type": "object", "required": true},
        {"name": "tax_documents", "type": "object", "required": true}
      ],

      "output_schema": [
        {"name": "vendor_id", "type": "string", "required": true},
        {"name": "onboarding_status", "type": "string", "required": true},
        {"name": "due_diligence_score", "type": "number", "required": true},
        {"name": "compliance_status", "type": "object", "required": true}
      ],

      "required_integrations": [
        {"system": "Vendor Management", "type": "bidirectional", "protocol": "API", "examples": ["SAP Ariba", "Coupa", "Oracle Procurement"]},
        {"system": "Risk Assessment", "type": "read", "protocol": "API", "examples": ["Dun & Bradstreet", "Supplier.io"]},
        {"system": "Document Management", "type": "bidirectional", "protocol": "API"}
      ],

      "decision_rules": [
        {"rule_id": "DR-VO-001", "name": "High Risk Vendor", "condition": "due_diligence_score < 60", "action": "escalate_for_review", "priority": 1},
        {"rule_id": "DR-VO-002", "name": "Critical Service", "condition": "service_criticality == 'high'", "action": "require_executive_approval", "priority": 1}
      ],

      "error_handlers": [
        {"error_type": "missing_documents", "severity": "medium", "action": "request_documents", "notification": ["vendor", "procurement"]}
      ]
    },

    {
      "id": "agent_12_2_1_1_step2",
      "apqc_id": "12.2.1.1",
      "step_number": 2,
      "step_name": "Contract Management",
      "description": "Manage vendor contracts including terms, renewals, and amendments",
      "purpose": "Ensure contractual compliance",
      "business_value": "Optimized contract terms",

      "capabilities": ["contract_creation", "terms_negotiation", "renewal_tracking", "amendment_processing", "compliance_monitoring"],

      "input_schema": [
        {"name": "vendor_id", "type": "string", "required": true},
        {"name": "contract_type", "type": "string", "required": true},
        {"name": "contract_terms", "type": "object", "required": true},
        {"name": "pricing_model", "type": "object", "required": true}
      ],

      "output_schema": [
        {"name": "contract_id", "type": "string", "required": true},
        {"name": "contract_status", "type": "string", "required": true},
        {"name": "key_dates", "type": "object", "required": true},
        {"name": "obligations", "type": "array", "required": true}
      ],

      "required_integrations": [
        {"system": "CLM", "type": "bidirectional", "protocol": "API", "examples": ["Icertis", "DocuSign CLM", "Agiloft"]},
        {"system": "E-Signature", "type": "bidirectional", "protocol": "API"},
        {"system": "Legal Review", "type": "bidirectional", "protocol": "API"}
      ],

      "decision_rules": [
        {"rule_id": "DR-CM-001", "name": "Renewal Alert", "condition": "days_to_expiry < 90", "action": "initiate_renewal_process", "priority": 1},
        {"rule_id": "DR-CM-002", "name": "High Value Contract", "condition": "contract_value > 1000000", "action": "require_legal_review", "priority": 1}
      ],

      "error_handlers": [
        {"error_type": "contract_expired", "severity": "high", "action": "emergency_extension", "notification": ["procurement", "legal", "vendor"]}
      ]
    },

    {
      "id": "agent_12_2_1_1_step3",
      "apqc_id": "12.2.1.1",
      "step_number": 3,
      "step_name": "Risk Assessment",
      "description": "Continuously assess and monitor vendor risks",
      "purpose": "Mitigate third-party risks",
      "business_value": "Risk visibility",

      "capabilities": ["risk_scoring", "continuous_monitoring", "financial_health_check", "cybersecurity_assessment", "compliance_verification"],

      "input_schema": [
        {"name": "vendor_id", "type": "string", "required": true},
        {"name": "risk_categories", "type": "array", "required": true},
        {"name": "assessment_frequency", "type": "string", "required": true}
      ],

      "output_schema": [
        {"name": "risk_score", "type": "number", "required": true},
        {"name": "risk_tier", "type": "string", "required": true, "validation": {"enum": ["critical", "high", "medium", "low"]}},
        {"name": "risk_factors", "type": "array", "required": true},
        {"name": "mitigation_actions", "type": "array", "required": false}
      ],

      "required_integrations": [
        {"system": "Risk Management", "type": "bidirectional", "protocol": "API", "examples": ["ServiceNow VRM", "OneTrust", "Prevalent"]},
        {"system": "Credit Rating", "type": "read", "protocol": "API", "examples": ["D&B", "Experian"]},
        {"system": "Security Rating", "type": "read", "protocol": "API", "examples": ["SecurityScorecard", "BitSight"]}
      ],

      "decision_rules": [
        {"rule_id": "DR-RA-001", "name": "Critical Risk", "condition": "risk_score > 80", "action": "immediate_review", "priority": 1},
        {"rule_id": "DR-RA-002", "name": "Cyber Risk", "condition": "security_score < 'C'", "action": "require_remediation_plan", "priority": 1}
      ],

      "error_handlers": [
        {"error_type": "assessment_overdue", "severity": "high", "action": "escalate_to_risk_manager", "notification": ["risk_team", "procurement"]}
      ]
    },

    {
      "id": "agent_12_2_1_1_step4",
      "apqc_id": "12.2.1.1",
      "step_number": 4,
      "step_name": "Performance Monitoring",
      "description": "Track and measure vendor performance against SLAs",
      "purpose": "Ensure service quality",
      "business_value": "Performance accountability",

      "capabilities": ["sla_tracking", "kpi_monitoring", "issue_tracking", "scorecard_generation", "trend_analysis"],

      "input_schema": [
        {"name": "vendor_id", "type": "string", "required": true},
        {"name": "contract_slas", "type": "array", "required": true},
        {"name": "performance_data", "type": "object", "required": true}
      ],

      "output_schema": [
        {"name": "performance_score", "type": "number", "required": true},
        {"name": "sla_compliance", "type": "object", "required": true},
        {"name": "issues_identified", "type": "array", "required": false},
        {"name": "improvement_recommendations", "type": "array", "required": false}
      ],

      "required_integrations": [
        {"system": "Vendor Management", "type": "bidirectional", "protocol": "API"},
        {"system": "Monitoring Tools", "type": "read", "protocol": "API"},
        {"system": "Issue Tracking", "type": "bidirectional", "protocol": "API", "examples": ["ServiceNow", "Jira"]}
      ],

      "decision_rules": [
        {"rule_id": "DR-PM-001", "name": "SLA Breach", "condition": "sla_compliance < 95%", "action": "initiate_vendor_discussion", "priority": 1},
        {"rule_id": "DR-PM-002", "name": "Chronic Underperformance", "condition": "performance_score < 70 for 3 consecutive months", "action": "initiate_vendor_exit", "priority": 1}
      ],

      "error_handlers": [
        {"error_type": "data_unavailable", "severity": "medium", "action": "use_estimated_metrics", "notification": ["operations_team"]}
      ]
    },

    {
      "id": "agent_12_2_1_1_step5",
      "apqc_id": "12.2.1.1",
      "step_number": 5,
      "step_name": "Relationship Management",
      "description": "Manage strategic vendor relationships and collaboration",
      "purpose": "Maximize partnership value",
      "business_value": "Strategic partnerships",

      "capabilities": ["relationship_scoring", "meeting_scheduling", "joint_planning", "innovation_collaboration", "escalation_management"],

      "input_schema": [
        {"name": "vendor_id", "type": "string", "required": true},
        {"name": "relationship_tier", "type": "string", "required": true},
        {"name": "engagement_history", "type": "array", "required": true}
      ],

      "output_schema": [
        {"name": "relationship_health", "type": "string", "required": true},
        {"name": "engagement_score", "type": "number", "required": true},
        {"name": "joint_initiatives", "type": "array", "required": false},
        {"name": "escalations", "type": "array", "required": false}
      ],

      "required_integrations": [
        {"system": "CRM", "type": "bidirectional", "protocol": "API"},
        {"system": "Calendar", "type": "bidirectional", "protocol": "API"},
        {"system": "Collaboration Platform", "type": "bidirectional", "protocol": "API", "examples": ["Teams", "Slack"]}
      ],

      "decision_rules": [
        {"rule_id": "DR-RM-001", "name": "Strategic Review", "condition": "vendor_tier == 'strategic' AND months_since_review > 3", "action": "schedule_qbr", "priority": 1}
      ],

      "error_handlers": [
        {"error_type": "contact_unavailable", "severity": "low", "action": "update_contact_info", "notification": ["vendor_manager"]}
      ]
    },

    {
      "id": "agent_12_2_1_1_step6",
      "apqc_id": "12.2.1.1",
      "step_number": 6,
      "step_name": "Spend Analytics",
      "description": "Analyze vendor spend and identify optimization opportunities",
      "purpose": "Optimize vendor spend",
      "business_value": "Cost optimization",

      "capabilities": ["spend_analysis", "category_management", "consolidation_opportunities", "savings_tracking", "benchmark_comparison"],

      "input_schema": [
        {"name": "vendor_id", "type": "string", "required": true},
        {"name": "spend_data", "type": "object", "required": true},
        {"name": "category", "type": "string", "required": true}
      ],

      "output_schema": [
        {"name": "total_spend", "type": "number", "required": true},
        {"name": "spend_trend", "type": "object", "required": true},
        {"name": "optimization_opportunities", "type": "array", "required": true},
        {"name": "benchmark_comparison", "type": "object", "required": false}
      ],

      "required_integrations": [
        {"system": "ERP", "type": "read", "protocol": "API", "examples": ["SAP", "Oracle"]},
        {"system": "Spend Analytics", "type": "bidirectional", "protocol": "API", "examples": ["Coupa", "Ivalua"]},
        {"system": "BI Platform", "type": "write", "protocol": "API"}
      ],

      "decision_rules": [
        {"rule_id": "DR-SA-001", "name": "Consolidation Opportunity", "condition": "duplicate_vendors_in_category > 3", "action": "flag_for_consolidation", "priority": 1},
        {"rule_id": "DR-SA-002", "name": "Price Variance", "condition": "price_vs_benchmark > 15%", "action": "initiate_renegotiation", "priority": 1}
      ],

      "error_handlers": [
        {"error_type": "data_sync_failed", "severity": "medium", "action": "use_cached_data", "notification": ["analytics_team"]}
      ]
    }
  ],

  "workflow_rules": {
    "entry_criteria": ["vendor_identified", "business_need_validated"],
    "exit_criteria": ["vendor_relationship_established", "ongoing_monitoring_active"],
    "escalation_path": ["category_manager", "procurement_director", "cpo", "executive_sponsor"]
  },

  "kpis": [
    {"metric": "vendor_performance_score", "target": "> 85%", "measurement": "weighted_average_vendor_scores"},
    {"metric": "contract_compliance_rate", "target": "> 95%", "measurement": "contracts_in_compliance_vs_total"},
    {"metric": "cost_savings", "target": "> 5% YoY", "measurement": "negotiated_savings_vs_baseline"},
    {"metric": "risk_assessment_coverage", "target": "100%", "measurement": "vendors_assessed_vs_total_active"}
  ]
}
